---
layout: post
title: "인터프리터와 바이트코드"
tags: ['그 외/Tech']
date: 2014-08-19 02:10:00
---
# 인터프리터와 바이트코드

[컴파일 과정](http://shinluckyarchive.tistory.com/285)  
[C 언어 컴파일 과정](http://linuxism.tistory.com/98)  
C나 C++은 컴파일 언어다. 즉, 코딩을 하고 실행을 하면 컴파일러가 소스코드를 컴파일해서 어셈블리로 변환하고 어셈블러가 이걸 기계어로 변환한다. 자세히는 위 링크를 참조.

반면 스크립트 언어, 즉 인터프리터 언어1는 변수의 타입 등이 동적으로 결정되기 때문에 한줄한줄 실행한다. 따라서 컴파일 언어에 비해 속도가 느리다.

여기까지가 기본적인 상식일텐데, 여기서 애매하게 중간에 들어있는게 있으니 바로 바이트코드다. 자바를 다루는 사람이라면 익숙한 개념일 테고, 요즘엔 자바가 C를 넘어서 국민 랭귀지에 가까우니 다들 잘 알겠지만 나는 자바를 잘 몰라서 이참에 정리해 보기로 했다.

## [바이트코드](http://ko.wikipedia.org/wiki/%EB%B0%94%EC%9D%B4%ED%8A%B8%EC%BD%94%EB%93%9C)

어셈블리는 하드웨어 종속적이다. CPU마다 기계어가 다르고, 따라서 기계어에 대응하는 어셈블리도 CPU마다 달라진다. 즉, 컴파일러를 만든다는 것은 CPU 종류별로 대응해야 한다는 것을 의미한다2. 당연히 이건 매우 귀찮고 오랜 시간이 필요한 일이다. 그래서 등장한 것이 어셈블리와 소스코드의 중간 코드인 바이트코드다. 

[자바 바이트코드의 이해](http://www.isfull.com/bbs/board.php?bo_table=tb02&wr_id=3)  
바이트코드는 인터프리터 언어다. 그리고 소스코드에서 바이트코드로 변환하는 과정은 컴파일이다. 자바를 말할 때 컴파일 언어다 인터프리터 언어다 왔다갔다 하는 것은 이 때문이다. 바이트코드로 한번 변환하기 때문에 인터프리터 언어보다 퍼포먼스가 우수하면서도 인터프리터 언어의 특징을 그대로 가져갈 수 있다. 

여기에 퍼포먼스 향상을 위해 한 발짝 더 나아간 개념이 [JIT 컴파일러](http://www.terms.co.kr/JITcompiler.htm)다. Just-In-Time의 줄임말로 인터프리터의 실행 과정에서 반복적으로 실행되는 부분을 컴파일하여 퍼포먼스를 향상시킨다.

이러한 일련의 과정들을 통해 최근 비약적으로 향상되어 C보다 빠르다는 소리도 나오는 자바 퍼포먼스의 형태를 어렴풋이 알 수 있겠다.

### 파이썬과 [루비](http://ko.wikipedia.org/wiki/%EB%A3%A8%EB%B9%84_\(%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EC%96%B8%EC%96%B4\))

파이썬도 바이트코드를 생성한다. pyc파일이 바로 파이썬 바이트코드 파일이다. 맥 파일 종류에도 Python Bytecode Document라고 되어 있다.

루비도 마찬가지. 루비 1.9.0버전에 YARV(Yet Another Ruby VM)이 포함되어 있다. 기존 루비의 퍼포먼스 개선을 위해 만들어진 바이트코드 인터프리터.

* * *

  1. 컴파일 언어와 스크립트 언어, 인터프리터 언어라는 명칭은 좀 애매하다. 컴파일러 언어라고 하지 않고 컴파일 언어라고 하는데 인터프리트 언어라고 하지 않고 인터프리터 언어라고 한다. 스크립트와 컴파일도 대비되는 개념이 아니며 스크립트와 인터프리터도 상등하는 개념이 아니다. 하지만 우리나라에서는 대부분 컴파일 언어 / 스크립트 언어, 인터프리터 언어로 구분하는 듯 하며 이 포스팅에서도 그렇게 사용하기로 한다.↩

  2. 사실 잘 모른다 -_-. 아마 그럴 거다. gcc를 다운받을 때 cpu마다 종류가 다르다고 한다.↩


[Tistory 원문보기](http://khanrc.tistory.com/24)
