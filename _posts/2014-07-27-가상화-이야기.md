---
layout: post
title: "가상화 이야기"
tags: ['OS']
date: 2014-07-27 11:44:00
---
가상화라는 개념에 대해 궁금에서 구글링을 좀 해 봤는데, 이게 간단하지가 않다.  
OS수업때 배웠던 것들이 나오는 거 같은데 기억이 안남. OS개념을 다시 들여다봐야 할 듯.  
  
가상화의 종류가 굉장히 다양한데,  
스토리지 가상화, 네트워크 가상화, 하드웨어 가상화 등 여러 갈래가 있다.  
내가 궁금한 부분은 하드웨어 가상화이므로 일단 거기만 들여다보기로 하자.  


  * 하드웨어 가상화 : 하나의 단일 시스템을 논리적으로 분할해 여러개의 가상 머신으로 나누는 기술. 
  * 하이퍼바이저 : 단일 시스템을 분할하고, 분할한 시스템들이 충돌 나지 않게 관리한다.

하드웨어 가상화는 구조에 따라 Type-1, Type-2로 나뉜다.

  * Type-1 : 하드웨어 위에 바로 하이퍼바이저를 올린다. ex) Xen
  * Type-2 : 호스트 OS위에 하이퍼바이저를 올린다. ex) Virtual Box, Parallels

  
그리고 아래는 방법에 따른 분류.  
  
1\. 전가상화, Full virtualization  
= Native virtualization.  
  
하드웨어를 완전히 가상화한다.  
게스트OS가 직접 하드웨어에 엑세스한다(하는 것처럼 느낀다).  
하이퍼바이저의 입장에서는 이 게스트OS들을 관리해야 한다. 리소스(하드웨어)를 잘 분배해야 함.  
  
2\. 반가상화,  Para-Virtualization  
게스트OS는 하이퍼바이저가 제공한 API를 통해 하드웨어에 엑세스한다.  
따라서 게스트OS는 소스 수정이 필요하고, 이에 따라 오픈소스 OS만 반가상화가 가능하다.  
게스트OS들은 본인이 게스트라는 것을 알고 있으므로 알아서 리소스를 적당히 사용하는 등 신분에 맞게 행동한다.  
  
3\. 컨테이너 가상화  
LXC(LinuX Container)  
OS레벨 가상화와 같은 개념이라고 함.  
  
OS 커널을 공유한다.  
OS에 올라가는 컨테이너는 메모리, 스토리지, 네트워크 등의 자원을 기본적으로 할당받으며 이는 각 컨테이너간 독립적으로 운영된다.  
  
  
  
  
  
참조  
<http://blog.syszone.co.kr/2974> 가상화 이야기. 외국 문서 번역임.  
<http://naleejang.tistory.com/63> 전가상화와 반가상화에 대한 링크 모음  
<http://blog.secmem.org/m/post/308> 전가상화 반가상화  
<http://spoqa.github.io/2013/11/22/docker-the-cloud.html#2> 도커 이야기


[Tistory 원문보기](http://khanrc.tistory.com/2)
