---
layout: post
title: "Ubuntu에 개발환경 셋팅하기 (2)"
tags: ['Server(Back-end)']
date: 2014-08-16 18:50:00
---
# Ubuntu에 개발환경 셋팅하기 (2)

## [Redis](https://www.linode.com/docs/databases/redis/redis-on-ubuntu-12-04-precise-pangolin)

레디스를 깔자.
    
    
    $ apt-get install redis-server
    

이것만 하면 깔린다.
    
    
    cp /etc/redis/redis.conf /etc/redis/redis.conf.default
    

환경설정은 미리미리 백업해 두도록 하자.
    
    
    redis-server /etc/redis/redis.conf
    

레디스 서버를 실행시켜 보면 아무 반응도 없는 것 같지만 ps aux로 프로세스를 확인해보면
    
    
    $ ps aux | grep redis
    redis    12649  0.0  0.0  10680  1420 ?        Ss   17:28   0:00 /usr/bin/redis-server /etc/redis/redis.conf
    

레디스가 동작하고 있는 것을 확인할 수 있다.

redis-cli로 레디스 클라이언트도 정상 작동한다.
    
    
    $ redis-cli
    redis 127.0.0.1:6379>
    

위에 링크로 걸어둔 문서는 내용이 알찬 것 같으니 읽어보자.

## [Flask](http://flask.pocoo.org/docs/installation/)

[플라스크 한글 문서](http://flask-docs-kr.readthedocs.org/ko/latest/installation.html)  
플라스크든 뭐든, 파이썬 환경설정은 virtualenv를 추천하지만 우리는 하나의 프로젝트를 진행할 뿐이므로 System-wide로 설치한다.
    
    
    $ sudo pip install Flask
    

그냥 이러면 설치 끝!

## [SSH](http://blog.acronym.co.kr/480)

설치 하는데 자꾸 접속이 끊겨서 불편했다. 그래서 타임아웃 시간을 늘려주기로 함.  
타임아웃 시간을 컨트롤하는건 크게 두가지 방법이 있는데, 서버에서 타임아웃 시간을 늘려주는 방법과 클라이언트에서 ssh가 알아서 주기적으로 서버에 ack을 보내 스스로가 살아있음을 알리는 방법이다.

우리 팀원들도 분명 긴걸 좋아하리라 굳게 믿고 서버의 타임아웃 시간을 수정하였다.
    
    
    $ cd /etc/ssh/
    $ sudo vim sshd_config
    

ssh와 sshd가 있는데 ssh는 ssh-client고 sshd는 ssh daemon1으로 ssh-server역할을 하는 것 같다. 
    
    
    ClientAliveInterval 600
    ClientAliveCountMax 3
    

그리고 sshd_config에 이 내용을 추가. 이렇게 설정해 두면 반응이 없는 클라이언트가 살아있는지 600초마다 한번씩 최대 3번 클라이언트에게 데이터 전송을 요청한다.
    
    
    $ sudo service ssh restart
    

로 마무리. `/etc/init.d/ssh restart`도 가능하지만 써보니까 service를 사용하라고 권고하더라.

클라이언트에서 타임아웃 시간을 늘리는 방법은 위 링크를 참조하자.

## 참고

### [ps aux](http://insanelabs.com/linux/linux-view-and-manage-processes-running-in-the-background/)

리눅스에서 프로세스들을 보여주는 명령어  
<http://superuser.com/questions/117913/ps-aux-output-meaning>
    
    
    $ ps aux  
    USER       PID  %CPU %MEM  VSZ RSS     TTY   STAT START   TIME COMMAND
    timothy  29217  0.0  0.0 11916 4560 pts/21   S+   08:15   0:00 pine  
    root     29505  0.0  0.0 38196 2728 ?        Ss   Mar07   0:00 sshd: can [priv]   
    can      29529  0.0  0.0 38332 1904 ?        S    Mar07   0:00 sshd: can@notty
    

USER = user owning the process  
PID = process ID of the process  
%CPU = It is the CPU time used divided by the time the process has been running.  
%MEM = ratio of the process's resident set size to the physical memory on the machine  
VSZ = virtual memory usage of entire process  
RSS = resident set size, the non-swapped physical memory that a task has used  
TTY = controlling tty (terminal)  
STAT = multi-character process state  
START = starting time or date of the process  
TIME = cumulative CPU time  
COMMAND = command with all its arguments

**특정 프로세스를 찾을 때에는 ps aux | grep &lt;string&gt; 보다는 pgrep &lt;string&gt; | xargs ps 을 활용하자.**

### kill

`kill PID`나 `kill -9 ProcessName` 으로 프로세스를 죽일 수 있다.

* * *

  1. 멀티태스킹 운영 체제에서 [데몬](http://ko.wikipedia.org/wiki/%EB%8D%B0%EB%AA%AC_\(%EC%BB%B4%ED%93%A8%ED%8C%85)은 사용자가 직접적으로 제어하지 않고, 백그라운드에서 돌면서 여러 작업을 하는 프로그램을 말한다. 원래 데몬이란 도깨비나 유령을 의미함.↩


[Tistory 원문보기](http://khanrc.tistory.com/23)
